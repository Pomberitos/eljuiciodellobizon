[gd_scene load_steps=12 format=4 uid="uid://b4epdjjrtj8ip"]

[ext_resource type="Script" path="res://scenes/rooms/room.gd" id="1_tqa3b"]
[ext_resource type="Script" path="res://scenes/rooms/puzzles/puzzle_1.gd" id="2_wrphb"]
[ext_resource type="PackedScene" uid="uid://c5brlqtj6ph0" path="res://scenes/collectible/key.tscn" id="3_a4rrg"]
[ext_resource type="AudioStream" uid="uid://bjntvhskdx21y" path="res://assets/audio/clock_bell.ogg" id="4_p55t4"]
[ext_resource type="AudioStream" uid="uid://cdwu2utcblvgj" path="res://assets/audio/wolf-growl.ogg" id="5_d5cy1"]
[ext_resource type="TileSet" uid="uid://3im5s84l5a4c" path="res://resources/tilesets/main_tileset.tres" id="6_ilmx7"]
[ext_resource type="Script" path="res://scenes/rooms/room_portal.gd" id="7_3qw6a"]
[ext_resource type="PackedScene" uid="uid://vev8mj8e4phh" path="res://scenes/box/tile_switch.tscn" id="8_8ojq5"]
[ext_resource type="PackedScene" uid="uid://cwht00ivoelts" path="res://scenes/interaction/hint.tscn" id="9_ehqb4"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ijv3q"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_un8ix"]
size = Vector2(724, 346.5)

[node name="Room 2" type="Node2D"]
y_sort_enabled = true
position = Vector2(0, -480)
script = ExtResource("1_tqa3b")
number = 1

[node name="Puzzle1" type="Node" parent="." node_paths=PackedStringArray("spawn_position", "bell_sound", "incorrect_sound")]
script = ExtResource("2_wrphb")
key_1 = ExtResource("3_a4rrg")
spawn_position = NodePath("Marker2D")
bell_sound = NodePath("BellSound")
incorrect_sound = NodePath("IncorrectSound")

[node name="Marker2D" type="Marker2D" parent="Puzzle1"]
position = Vector2(208, -368)

[node name="BellSound" type="AudioStreamPlayer" parent="Puzzle1"]
stream = ExtResource("4_p55t4")

[node name="IncorrectSound" type="AudioStreamPlayer" parent="Puzzle1"]
stream = ExtResource("5_d5cy1")

[node name="TileMap" type="Node2D" parent="."]
y_sort_enabled = true

[node name="ground" type="TileMapLayer" parent="TileMap"]
tile_map_data = PackedByteArray("AAABAAIAAAAFAAkAAAABAAMAAAAFAAkAAAABAAQAAAAFAAkAAAABAAUAAAAFAAkAAAABAAYAAAAFAAkAAAABAAcAAAAFAAkAAAABAAgAAAAFAAkAAAABAAkAAAAFAAkAAAACAAIAAAAFAAkAAAACAAMAAAAAAAYAAAACAAQAAAAAAAYAAAACAAUAAAAAAAYAAAACAAYAAAAAAAYAAAACAAcAAAAAAAYAAAACAAgAAAAAAAYAAAACAAkAAAAAAAYAAAADAAIAAAAFAAkAAAADAAMAAAAAAAYAAAADAAQAAAAAAAYAAAADAAUAAAAAAAYAAAADAAYAAAAAAAYAAAADAAcAAAAAAAYAAAADAAgAAAAAAAYAAAADAAkAAAAAAAYAAAAEAAIAAAAFAAkAAAAEAAMAAAAAAAYAAAAEAAQAAAAAAAYAAAAEAAUAAAAAAAYAAAAEAAYAAAAAAAYAAAAEAAcAAAAAAAYAAAAEAAgAAAAAAAYAAAAEAAkAAAAAAAYAAAAFAAIAAAAFAAkAAAAFAAMAAAAAAAYAAAAFAAQAAAAAAAYAAAAFAAUAAAAAAAYAAAAFAAYAAAAAAAYAAAAFAAcAAAAAAAYAAAAFAAgAAAAAAAYAAAAFAAkAAAAAAAYAAAAGAAIAAAAFAAkAAAAGAAMAAAACAAYAAAAGAAQAAAAAAAYAAAAGAAUAAAAAAAYAAAAGAAYAAAAAAAYAAAAGAAcAAAAAAAYAAAAGAAgAAAAAAAYAAAAGAAkAAAAAAAYAAAAHAAIAAAAFAAkAAAAHAAMAAAAAAAYAAAAHAAQAAAAAAAYAAAAHAAUAAAAAAAYAAAAHAAYAAAAAAAYAAAAHAAcAAAAAAAYAAAAHAAgAAAAAAAYAAAAHAAkAAAAAAAYAAAAIAAIAAAAFAAkAAAAIAAMAAAAAAAYAAAAIAAQAAAAAAAYAAAAIAAUAAAAAAAYAAAAIAAYAAAAAAAYAAAAIAAcAAAAAAAYAAAAIAAgAAAAAAAYAAAAIAAkAAAAAAAYAAAAJAAIAAAAFAAkAAAAJAAMAAAAAAAYAAAAJAAQAAAAAAAYAAAAJAAUAAAAAAAYAAAAJAAkAAAAAAAYAAAAKAAIAAAAFAAkAAAAKAAMAAAAAAAYAAAAKAAQAAAAAAAYAAAAKAAUAAAAAAAYAAAAKAAcAAAAAAAYAAAAKAAkAAAAAAAYAAAALAAIAAAAFAAkAAAALAAMAAAAAAAYAAAALAAQAAAAAAAYAAAALAAUAAAAAAAYAAAALAAkAAAAAAAYAAAAMAAIAAAAFAAkAAAAMAAQAAAAAAAYAAAAMAAUAAAAAAAYAAAAMAAkAAAAAAAYAAAANAAIAAAAFAAkAAAANAAMAAAAAAAYAAAANAAQAAAAAAAYAAAANAAUAAAAAAAYAAAANAAYAAAAAAAYAAAANAAcAAAAAAAYAAAAOAAIAAAAFAAkAAAAOAAMAAAAAAAYAAAAOAAQAAAAAAAYAAAAOAAUAAAAAAAYAAAAOAAYAAAAAAAYAAAAOAAcAAAAAAAYAAAAOAAgAAAAAAAYAAAAOAAkAAAAAAAYAAAAPAAIAAAAFAAkAAAAPAAMAAAAAAAYAAAAPAAQAAAAAAAYAAAAPAAUAAAAAAAYAAAAPAAYAAAAAAAYAAAAPAAcAAAAAAAYAAAAPAAgAAAAAAAYAAAAPAAkAAAAAAAYAAAAPAAoAAAAAAAYAAAAQAAIAAAAFAAkAAAAQAAMAAAAAAAYAAAAQAAQAAAAAAAYAAAAQAAUAAAAAAAYAAAAQAAYAAAAAAAYAAAAQAAcAAAAAAAYAAAAQAAgAAAAAAAYAAAAQAAkAAAAAAAYAAAAQAAoAAAAAAAYAAAARAAIAAAAFAAkAAAARAAMAAAAAAAYAAAARAAQAAAAAAAYAAAARAAUAAAAAAAYAAAARAAYAAAAAAAYAAAARAAcAAAAAAAYAAAARAAgAAAAAAAYAAAARAAkAAAAAAAYAAAARAAoAAAAAAAYAAAASAAIAAAAFAAkAAAASAAMAAAAAAAYAAAASAAQAAAAAAAYAAAASAAUAAAAAAAYAAAASAAYAAAAAAAYAAAASAAcAAAAAAAYAAAASAAgAAAAAAAYAAAASAAkAAAAAAAYAAAASAAoAAAAAAAYAAAATAAIAAAAFAAkAAAATAAMAAAAAAAYAAAATAAQAAAAAAAYAAAATAAUAAAAAAAYAAAATAAYAAAAAAAYAAAATAAcAAAAAAAYAAAATAAgAAAAAAAYAAAATAAkAAAAAAAYAAAATAAoAAAAAAAYAAAAUAAIAAAAFAAkAAAAUAAMAAAAAAAYAAAAUAAQAAAAAAAYAAAAUAAUAAAAAAAYAAAAUAAYAAAAAAAYAAAAUAAcAAAAAAAYAAAAUAAgAAAAAAAYAAAAUAAkAAAAAAAYAAAAUAAoAAAAAAAYAAAAVAAIAAAAFAAkAAAAVAAMAAAAAAAYAAAAVAAQAAAAAAAYAAAAVAAUAAAAAAAYAAAAVAAYAAAAAAAYAAAAVAAcAAAAAAAYAAAAVAAgAAAAAAAYAAAAVAAkAAAAAAAYAAAAVAAoAAAAAAAYAAAAWAAIAAAAFAAkAAAAWAAMAAAAAAAYAAAAWAAQAAAAAAAYAAAAWAAUAAAAAAAYAAAAWAAYAAAAAAAYAAAAWAAcAAAAAAAYAAAAWAAgAAAAAAAYAAAAWAAkAAAAAAAYAAAAWAAoAAAAAAAYAAAAXAAIAAAAFAAkAAAAXAAMAAAAFAAkAAAAXAAQAAAAFAAkAAAAXAAUAAAAFAAkAAAAXAAYAAAAFAAkAAAAXAAcAAAAFAAkAAAAXAAoAAAAFAAkAAAAOAAoAAAAAAAYAAAANAAoAAAAAAAYAAAAMAAoAAAAAAAYAAAALAAoAAAAAAAYAAAAKAAoAAAAAAAYAAAAJAAoAAAAAAAYAAAAIAAoAAAAAAAYAAAAHAAoAAAAAAAYAAAAGAAoAAAAAAAYAAAAFAAoAAAAAAAYAAAAEAAoAAAAAAAYAAAADAAoAAAAAAAYAAAABAAoAAAAFAAkAAAACAAoAAAAAAAYAAAABAAsAAAAFAAkAAAABAAwAAAAFAAkAAAACAAsAAAAAAAYAAAACAAwAAAAFAAkAAAADAAsAAAAAAAYAAAADAAwAAAAFAAkAAAAEAAsAAAAAAAYAAAAEAAwAAAAFAAkAAAAFAAsAAAAAAAYAAAAFAAwAAAAFAAkAAAAGAAsAAAAAAAYAAAAGAAwAAAAFAAkAAAAHAAsAAAAAAAYAAAAHAAwAAAAFAAkAAAAIAAsAAAAAAAYAAAAIAAwAAAAFAAkAAAAJAAsAAAAAAAYAAAAJAAwAAAAFAAkAAAAKAAsAAAAAAAYAAAAKAAwAAAAFAAkAAAALAAsAAAAAAAYAAAALAAwAAAAFAAkAAAAMAAsAAAAAAAYAAAAMAAwAAAAFAAkAAAANAAsAAAAAAAYAAAANAAwAAAAFAAkAAAAOAAsAAAAAAAYAAAAOAAwAAAAFAAkAAAAPAAsAAAAAAAYAAAAPAAwAAAAFAAkAAAAQAAsAAAAAAAYAAAAQAAwAAAAFAAkAAAARAAsAAAAAAAYAAAARAAwAAAAFAAkAAAASAAsAAAAAAAYAAAASAAwAAAAFAAkAAAATAAsAAAAAAAYAAAATAAwAAAAFAAkAAAAUAAsAAAAAAAYAAAAUAAwAAAAFAAkAAAAVAAsAAAAAAAYAAAAVAAwAAAAFAAkAAAAWAAsAAAAAAAYAAAAWAAwAAAAFAAkAAAAXAAsAAAAFAAkAAAAXAAwAAAAFAAkAAAAMAAYAAAAAAAYAAAALAAYAAAAAAAYAAAAJAAcAAAAAAAYAAAAJAAgAAAAAAAYAAAAKAAgAAAAAAAYAAAALAAgAAAAAAAYAAAAJAAYAAAAAAAYAAAAKAAYAAAAAAAYAAAALAAcAAAAAAAYAAAAMAAgAAAAAAAYAAAANAAgAAAAAAAYAAAANAAkAAAAAAAYAAAAXAAgAAAAFAAkAAAAXAAkAAAAFAAkAAAAMAAMAAAAAAAYAAAAMAAcAAAAAAAYAAAA=")
tile_set = ExtResource("6_ilmx7")

[node name="walls" type="TileMapLayer" parent="TileMap"]
tile_map_data = PackedByteArray("AAAAAAAAAAAAAA0AAAAAAAEAAAAAAA0AAAAAAAIAAAAAAA0AAAAAAAMAAAAAAA0AAAAAAAQAAAAAAA0AAAAAAAUAAAAAAA0AAAAAAAYAAAAAAA0AAAAAAAcAAAAAAA0AAAAAAAgAAAAAAA0AAAAAAAkAAAAAAA0AAAAAAAoAAAAAAA0AAAAYAAoAAAAEAA0AAAAYAAkAAAAEAA0AAAAYAAgAAAAEAA0AAAAYAAcAAAAEAA0AAAAYAAYAAAAEAA0AAAAYAAUAAAAEAA0AAAAYAAQAAAAEAA0AAAAYAAMAAAAEAA0AAAAYAAAAAAAEAA0AAAAYAAEAAAAEAA0AAAAYAAIAAAAEAA0AAAAAAA0AAAABAA8AAAAYAA0AAAADAA8AAAABAA0AAAACAA8AAAACAA0AAAACAA8AAAADAA0AAAACAA8AAAAEAA0AAAACAA8AAAAFAA0AAAACAA8AAAAGAA0AAAACAA8AAAAHAA0AAAACAA8AAAANAA0AAAACAA8AAAAOAA0AAAACAA8AAAAPAA0AAAACAA8AAAAQAA0AAAACAA8AAAARAA0AAAACAA8AAAASAA0AAAACAA8AAAATAA0AAAACAA8AAAAUAA0AAAACAA8AAAAVAA0AAAACAA8AAAAWAA0AAAACAA8AAAAXAA0AAAACAA8AAAAYAAsAAAAEAA0AAAAYAAwAAAAEAA0AAAAAAAsAAAAAAA0AAAAAAAwAAAAAAA0AAAAIAA0AAAACAA8AAAAJAA0AAAACAA8AAAAKAA0AAAACAA8AAAABAAAAAAADAAIAAAABAAEAAAADAAMAAAACAAAAAAADAAIAAAACAAEAAAADAAMAAAADAAAAAAADAAIAAAADAAEAAAADAAMAAAAFAAAAAAADAAIAAAAFAAEAAAADAAMAAAAGAAAAAAADAAIAAAAGAAEAAAADAAMAAAAHAAAAAAADAAIAAAAHAAEAAAADAAMAAAAIAAAAAAADAAIAAAAIAAEAAAADAAMAAAAJAAAAAAADAAIAAAAJAAEAAAADAAMAAAAKAAAAAAADAAIAAAAKAAEAAAADAAMAAAALAAAAAAADAAIAAAALAAEAAAADAAMAAAAMAAAAAAADAAIAAAAMAAEAAAADAAMAAAANAAAAAAADAAIAAAANAAEAAAADAAMAAAAOAAAAAAADAAIAAAAOAAEAAAADAAMAAAAPAAAAAAADAAIAAAAPAAEAAAADAAMAAAAQAAAAAAADAAIAAAAQAAEAAAADAAMAAAARAAAAAAADAAIAAAARAAEAAAADAAMAAAASAAAAAAADAAIAAAASAAEAAAADAAMAAAATAAAAAAADAAIAAAATAAEAAAADAAMAAAAUAAAAAAADAAIAAAAUAAEAAAADAAMAAAAVAAAAAAADAAIAAAAVAAEAAAADAAMAAAAWAAAAAAADAAIAAAAWAAEAAAADAAMAAAAXAAAAAAADAAIAAAAXAAEAAAADAAMAAAAMAA0AAAACAA8AAAAEAAEAAAADAAMAAAAEAAAAAAADAAIAAAALAA0AAAAAAA8AAAA=")
tile_set = ExtResource("6_ilmx7")

[node name="Objects" type="TileMapLayer" parent="TileMap"]
z_index = 1
y_sort_enabled = true
position = Vector2(1, -1)
tile_map_data = PackedByteArray("AAACAAgAAAAQAAYAAAAWAAgAAAAQAAYAAAAMAAwAAAAQAAAAAAAMAAQAAAAQAAYAAAATAAEAAAALAAAAAAAMAAEAAAALAAAAAAAGAAIAAAAQAA8AAAAMAAcAAgAAAAAAAQAIAAYAAAAIAAoAAAAQAAoAAAAIAAoAAAAQAAYAAAAIAAgAAAAIAAoAAAAIAAgAAAA=")
tile_set = ExtResource("6_ilmx7")

[node name="Lights" type="TileMapLayer" parent="TileMap"]
z_index = 5
position = Vector2(90, -147)
tile_map_data = PackedByteArray("AAAUAAwAAgAAAAAABQAAAAUAAgAAAAAABQA=")
tile_set = ExtResource("6_ilmx7")

[node name="SpawnPositions" type="Node" parent="."]

[node name="Marker2D" type="Marker2D" parent="SpawnPositions"]
position = Vector2(367, -81)

[node name="Label" type="Label" parent="."]
visible = false
offset_left = 65.0
offset_top = 64.0
offset_right = 166.0
offset_bottom = 87.0
text = "Sala De Estar"

[node name="RoomPortal" type="Area2D" parent="."]
position = Vector2(367, 503)
script = ExtResource("7_3qw6a")

[node name="CollisionShape2D" type="CollisionShape2D" parent="RoomPortal"]
z_index = 3
position = Vector2(0, -41)
shape = SubResource("RectangleShape2D_ijv3q")
debug_color = Color(0.33582, 0.639235, 0, 0.42)

[node name="Marker2D" type="Marker2D" parent="RoomPortal"]
position = Vector2(1, 48)

[node name="PlayerDetector" type="Area2D" parent="."]
z_index = -10
position = Vector2(401, 225)

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayerDetector"]
position = Vector2(0, 15.25)
shape = SubResource("RectangleShape2D_un8ix")
debug_color = Color(0.126246, 0.563074, 0.67162, 0.419608)

[node name="TileSwitchNorth" parent="." instance=ExtResource("8_8ojq5")]
z_index = 2
position = Vector2(400, 112)
switch_name = "north"

[node name="TileSwitchSouth" parent="." instance=ExtResource("8_8ojq5")]
z_index = 2
position = Vector2(400, 369)
switch_name = "south"

[node name="TileSwitchEast" parent="." instance=ExtResource("8_8ojq5")]
z_index = 2
position = Vector2(721, 239)
switch_name = "east"

[node name="TileSwitchWest" parent="." instance=ExtResource("8_8ojq5")]
z_index = 2
position = Vector2(80, 241)
switch_name = "west"

[node name="Hint" parent="." node_paths=PackedStringArray("ObjectUI") instance=ExtResource("9_ehqb4")]
position = Vector2(139, 19)
ObjectUI = NodePath("")

[connection signal="body_entered" from="RoomPortal" to="RoomPortal" method="_on_body_entered"]
[connection signal="body_entered" from="PlayerDetector" to="." method="_on_player_detector_body_entered"]
