[gd_scene load_steps=11 format=4 uid="uid://qlf0yl38rot"]

[ext_resource type="Script" path="res://scenes/rooms/room.gd" id="1_hfnaa"]
[ext_resource type="TileSet" uid="uid://3im5s84l5a4c" path="res://resources/tilesets/main_tileset.tres" id="2_2m7nu"]
[ext_resource type="Script" path="res://scenes/rooms/room_portal.gd" id="3_7jup7"]
[ext_resource type="PackedScene" uid="uid://cca2b1r3ikpwp" path="res://scenes/rooms/doors/door_with_switch.tscn" id="4_sx3bq"]
[ext_resource type="PackedScene" uid="uid://3cy137yehsru" path="res://scenes/collectible/letter.tscn" id="5_3jmsg"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ijv3q"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_yfxe0"]
size = Vector2(32, 32)

[sub_resource type="PlaceholderTexture2D" id="PlaceholderTexture2D_tqkdl"]
size = Vector2(32, 32)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_rllry"]
size = Vector2(28, 28)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8p6ln"]
size = Vector2(724, 346.5)

[node name="Room 1" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_hfnaa")
number = 1

[node name="TileMap" type="Node2D" parent="."]

[node name="ground" type="TileMapLayer" parent="TileMap"]
tile_map_data = PackedByteArray("AAABAAIAAAAAAAYAAAABAAMAAAAAAAYAAAABAAQAAAAAAAYAAAABAAUAAAAAAAYAAAABAAYAAAAAAAYAAAABAAcAAAAAAAYAAAABAAgAAAAAAAYAAAABAAkAAAAAAAYAAAABAAoAAAAAAAYAAAABAAsAAAAAAAYAAAABAAwAAAAAAAYAAAACAAIAAAAAAAYAAAACAAMAAAAAAAYAAAACAAQAAAAAAAYAAAACAAUAAAAAAAYAAAACAAYAAAAAAAYAAAACAAcAAAAAAAYAAAACAAgAAAAAAAYAAAACAAkAAAAAAAYAAAACAAoAAAAAAAYAAAACAAsAAAAAAAYAAAACAAwAAAAAAAYAAAADAAIAAAAAAAYAAAADAAMAAAAAAAYAAAADAAQAAAAAAAYAAAADAAUAAAAAAAYAAAADAAYAAAAAAAYAAAADAAcAAAAAAAYAAAADAAgAAAAAAAYAAAADAAkAAAAAAAYAAAADAAoAAAAAAAYAAAADAAsAAAAAAAYAAAADAAwAAAAAAAYAAAAEAAIAAAAAAAYAAAAEAAMAAAAAAAYAAAAEAAQAAAAAAAYAAAAEAAUAAAAAAAYAAAAEAAYAAAAAAAYAAAAEAAcAAAAAAAYAAAAEAAgAAAAAAAYAAAAEAAkAAAAAAAYAAAAEAAoAAAAAAAYAAAAEAAsAAAAAAAYAAAAEAAwAAAAAAAYAAAAFAAIAAAAAAAYAAAAFAAMAAAAAAAYAAAAFAAQAAAAAAAYAAAAFAAUAAAAAAAYAAAAFAAYAAAAAAAYAAAAFAAcAAAAAAAYAAAAFAAgAAAAAAAYAAAAFAAkAAAAAAAYAAAAFAAoAAAAAAAYAAAAFAAsAAAAAAAYAAAAFAAwAAAAAAAYAAAAGAAIAAAAAAAYAAAAGAAMAAAAAAAYAAAAGAAQAAAAAAAYAAAAGAAUAAAAAAAYAAAAGAAYAAAAAAAYAAAAGAAcAAAAAAAYAAAAGAAgAAAAAAAYAAAAGAAkAAAAAAAYAAAAGAAoAAAAAAAYAAAAGAAsAAAAAAAYAAAAGAAwAAAAAAAYAAAAHAAIAAAAAAAYAAAAHAAMAAAAAAAYAAAAHAAQAAAAAAAYAAAAHAAUAAAAAAAYAAAAHAAYAAAAAAAYAAAAHAAcAAAAAAAYAAAAHAAgAAAAAAAYAAAAHAAkAAAAAAAYAAAAHAAoAAAAAAAYAAAAHAAsAAAAAAAYAAAAHAAwAAAAAAAYAAAAIAAIAAAAAAAYAAAAIAAMAAAAAAAYAAAAIAAQAAAAAAAYAAAAIAAUAAAAAAAYAAAAIAAcAAAAAAAYAAAAIAAgAAAAAAAYAAAAIAAkAAAAAAAYAAAAIAAoAAAAAAAYAAAAIAAsAAAAAAAYAAAAIAAwAAAAAAAYAAAAJAAIAAAAAAAYAAAAJAAMAAAAAAAYAAAAJAAQAAAAAAAYAAAAJAAUAAAAAAAYAAAAJAAYAAAAAAAYAAAAJAAcAAAAAAAYAAAAJAAgAAAAAAAYAAAAJAAkAAAAAAAYAAAAJAAsAAAAAAAYAAAAJAAwAAAAAAAYAAAAKAAIAAAAAAAYAAAAKAAMAAAAAAAYAAAAKAAQAAAAAAAYAAAAKAAUAAAAAAAYAAAAKAAYAAAAAAAYAAAAKAAcAAAAAAAYAAAAKAAgAAAAAAAYAAAAKAAkAAAAAAAYAAAAKAAsAAAAAAAYAAAAKAAwAAAAAAAYAAAALAAIAAAAAAAYAAAALAAMAAAAAAAYAAAALAAQAAAAAAAYAAAALAAUAAAAAAAYAAAALAAYAAAAAAAYAAAALAAcAAAAAAAYAAAALAAgAAAAAAAYAAAALAAkAAAAAAAYAAAALAAsAAAAAAAYAAAALAAwAAAAAAAYAAAAMAAIAAAAAAAYAAAAMAAMAAAAAAAYAAAAMAAQAAAAAAAYAAAAMAAUAAAAAAAYAAAAMAAYAAAAAAAYAAAAMAAcAAAAAAAYAAAAMAAgAAAAAAAYAAAAMAAkAAAAAAAYAAAAMAAsAAAAAAAYAAAAMAAwAAAAAAAYAAAANAAIAAAAAAAYAAAANAAMAAAAAAAYAAAANAAQAAAAAAAYAAAANAAUAAAAAAAYAAAANAAYAAAAAAAYAAAANAAgAAAAAAAYAAAANAAkAAAAAAAYAAAANAAoAAAAAAAYAAAANAAsAAAAAAAYAAAANAAwAAAAAAAYAAAAOAAIAAAAAAAYAAAAOAAMAAAAAAAYAAAAOAAQAAAAAAAYAAAAOAAcAAAAAAAYAAAAOAAgAAAAAAAYAAAAOAAkAAAAAAAYAAAAOAAoAAAAAAAYAAAAOAAsAAAAAAAYAAAAOAAwAAAAAAAYAAAAPAAIAAAAAAAYAAAAPAAMAAAAAAAYAAAAPAAQAAAAAAAYAAAAPAAUAAAAAAAYAAAAPAAYAAAAAAAYAAAAPAAcAAAAAAAYAAAAPAAgAAAAAAAYAAAAPAAkAAAAAAAYAAAAPAAoAAAAAAAYAAAAPAAsAAAAAAAYAAAAPAAwAAAAAAAYAAAAQAAIAAAAAAAYAAAAQAAMAAAAAAAYAAAAQAAQAAAAAAAYAAAAQAAUAAAAAAAYAAAAQAAYAAAAAAAYAAAAQAAcAAAAAAAYAAAAQAAgAAAAAAAYAAAAQAAkAAAAAAAYAAAAQAAoAAAAAAAYAAAAQAAsAAAAAAAYAAAAQAAwAAAAAAAYAAAARAAIAAAAAAAYAAAARAAMAAAAAAAYAAAARAAQAAAAAAAYAAAARAAUAAAAAAAYAAAARAAYAAAAAAAYAAAARAAcAAAAAAAYAAAARAAgAAAAAAAYAAAARAAkAAAAAAAYAAAARAAoAAAAAAAYAAAARAAsAAAAAAAYAAAARAAwAAAAAAAYAAAASAAIAAAAAAAYAAAASAAMAAAAAAAYAAAASAAQAAAAAAAYAAAASAAUAAAAAAAYAAAASAAYAAAAAAAYAAAASAAcAAAAAAAYAAAASAAgAAAAAAAYAAAASAAkAAAAAAAYAAAASAAoAAAAAAAYAAAASAAsAAAAAAAYAAAASAAwAAAAAAAYAAAATAAIAAAAAAAYAAAATAAMAAAAAAAYAAAATAAQAAAAAAAYAAAATAAUAAAAAAAYAAAATAAYAAAAAAAYAAAATAAcAAAAAAAYAAAATAAgAAAAAAAYAAAATAAkAAAAAAAYAAAATAAoAAAAAAAYAAAATAAsAAAAAAAYAAAATAAwAAAAAAAYAAAAUAAIAAAAAAAYAAAAUAAMAAAAAAAYAAAAUAAQAAAAAAAYAAAAUAAUAAAAAAAYAAAAUAAYAAAAAAAYAAAAUAAcAAAAAAAYAAAAUAAgAAAAAAAYAAAAUAAkAAAAAAAYAAAAUAAoAAAAAAAYAAAAUAAsAAAAAAAYAAAAUAAwAAAAAAAYAAAAVAAIAAAAAAAYAAAAVAAMAAAAAAAYAAAAVAAQAAAAAAAYAAAAVAAUAAAAAAAYAAAAVAAYAAAAAAAYAAAAVAAcAAAAAAAYAAAAVAAgAAAAAAAYAAAAVAAkAAAAAAAYAAAAVAAoAAAAAAAYAAAAVAAsAAAAAAAYAAAAVAAwAAAAAAAYAAAAWAAIAAAAAAAYAAAAWAAMAAAAAAAYAAAAWAAQAAAAAAAYAAAAWAAUAAAAAAAYAAAAWAAYAAAAAAAYAAAAWAAcAAAAAAAYAAAAWAAgAAAAAAAYAAAAWAAkAAAAAAAYAAAAWAAoAAAAAAAYAAAAWAAsAAAAAAAYAAAAWAAwAAAAAAAYAAAAXAAIAAAAAAAYAAAAXAAMAAAAAAAYAAAAXAAQAAAAAAAYAAAAXAAUAAAAAAAYAAAAXAAYAAAAAAAYAAAAXAAcAAAAAAAYAAAAXAAgAAAAAAAYAAAAXAAkAAAAAAAYAAAAXAAoAAAAAAAYAAAAXAAsAAAAAAAYAAAAXAAwAAAAAAAYAAAAIAAYAAAABAAYAAAAMAAoAAAAAAAYAAAALAAoAAAAAAAYAAAAKAAoAAAAAAAYAAAAJAAoAAAAAAAYAAAAOAAUAAAAAAAYAAAAOAAYAAAAAAAYAAAANAAcAAAAAAAYAAAA=")
tile_set = ExtResource("2_2m7nu")

[node name="walls" type="TileMapLayer" parent="TileMap"]
tile_map_data = PackedByteArray("AAAAAAIAAAAAAA0AAAAAAAMAAAAAAA0AAAAAAAQAAAAAAA0AAAAAAAUAAAAAAA0AAAAAAAYAAAAAAA0AAAAAAAcAAAAAAA0AAAAAAAgAAAAAAA0AAAAAAAkAAAAAAA0AAAAAAAoAAAAAAA0AAAAAAAsAAAAAAA0AAAAAAAwAAAAAAA0AAAAYAAIAAAAEAA0AAAAYAAMAAAAEAA0AAAAYAAQAAAAEAA0AAAAYAAUAAAAEAA0AAAAYAAYAAAAEAA0AAAAYAAcAAAAEAA0AAAAYAAgAAAAEAA0AAAAYAAkAAAAEAA0AAAAYAAoAAAAEAA0AAAAYAAsAAAAEAA0AAAAYAAwAAAAEAA0AAAAYAAAAAAAEAA0AAAAYAAEAAAAEAA0AAAAAAAAAAAAAAA0AAAAAAAEAAAAAAA0AAAAAAA0AAAAAAA4AAAABAA0AAAACAA8AAAACAA0AAAACAA8AAAADAA0AAAACAA8AAAAEAA0AAAACAA8AAAAFAA0AAAACAA8AAAAGAA0AAAACAA8AAAAHAA0AAAACAA8AAAAIAA0AAAACAA8AAAAJAA0AAAACAA8AAAAKAA0AAAACAA8AAAALAA0AAAACAA8AAAAMAA0AAAACAA8AAAANAA0AAAACAA8AAAAOAA0AAAACAA8AAAAPAA0AAAACAA8AAAAQAA0AAAACAA8AAAARAA0AAAACAA8AAAASAA0AAAACAA8AAAATAA0AAAACAA8AAAAUAA0AAAACAA8AAAAVAA0AAAACAA8AAAAWAA0AAAACAA8AAAAXAA0AAAACAA8AAAAYAA0AAAADAA8AAAABAAAAAAAAAAIAAAABAAEAAAAAAAMAAAACAAAAAAAAAAIAAAACAAEAAAAAAAMAAAADAAAAAAAAAAIAAAADAAEAAAAAAAMAAAAEAAAAAAAAAAIAAAAEAAEAAAAAAAMAAAAFAAAAAAAAAAIAAAAFAAEAAAAAAAMAAAAGAAAAAAAAAAIAAAAGAAEAAAAAAAMAAAAHAAAAAAAAAAIAAAAHAAEAAAAAAAMAAAAIAAAAAAAAAAIAAAAIAAEAAAAAAAMAAAAJAAAAAAAAAAIAAAAJAAEAAAAAAAMAAAAKAAAAAAAAAAIAAAAKAAEAAAAAAAMAAAANAAAAAAAAAAIAAAANAAEAAAAAAAMAAAAOAAAAAAAAAAIAAAAOAAEAAAAAAAMAAAAPAAAAAAAAAAIAAAAPAAEAAAAAAAMAAAAQAAAAAAAAAAIAAAAQAAEAAAAAAAMAAAARAAAAAAAAAAIAAAARAAEAAAAAAAMAAAASAAAAAAAAAAIAAAASAAEAAAAAAAMAAAATAAAAAAAAAAIAAAATAAEAAAAAAAMAAAAUAAAAAAAAAAIAAAAUAAEAAAAAAAMAAAAVAAAAAAAAAAIAAAAVAAEAAAAAAAMAAAAWAAAAAAAAAAIAAAAWAAEAAAAAAAMAAAAXAAAAAAAAAAIAAAAXAAEAAAAAAAMAAAALAAAAAAAAAAIAAAAMAAAAAAAAAAIAAAAMAAEAAAAAAAMAAAADAP//AAAAAA8AAAAEAP//AAAAAA8AAAAFAP//AAAAAA8AAAAGAP//AAAAAA8AAAAHAP//AAAAAA8AAAAIAP//AAAAAA8AAAAJAP//AAAAAA8AAAANAP//AAAAAA8AAAAOAP//AAAAAA8AAAAPAP//AAAAAA8AAAAQAP//AAAAAA8AAAABAP//AAAAAA8AAAACAP//AAAAAA8AAAARAP//AAAAAA8AAAASAP//AAAAAA8AAAATAP//AAAAAA8AAAAUAP//AAAAAA8AAAAVAP//AAAAAA8AAAAWAP//AAAAAA8AAAAXAP//AAAAAA8AAAAYAP//AAAAAA8AAAAKAP//AAAAAA8AAAAMAP//AAAAAA8AAAA=")
tile_set = ExtResource("2_2m7nu")

[node name="Objects" type="TileMapLayer" parent="TileMap"]
tile_map_data = PackedByteArray("AAARAAkAAAAQAAYAAAAJAAYAAAAKAAQAAAAQAAgAAgAAAAAAAgAIAAcAAgAAAAAABAAGAAYAAgAAAAAABAARAAEAAAAVAAcAAAA=")
tile_set = ExtResource("2_2m7nu")

[node name="Lights" type="TileMapLayer" parent="TileMap"]
z_index = 7
tile_map_data = PackedByteArray("AAAJAAYAAgAAAAAABQAKAAAAAgAAAAAABQAMAAAAAgAAAAAABQA=")
tile_set = ExtResource("2_2m7nu")

[node name="SpawnPositions" type="Node" parent="."]

[node name="Marker2D" type="Marker2D" parent="SpawnPositions"]
position = Vector2(367, 83)

[node name="RoomPortal" type="Area2D" parent="."]
position = Vector2(367, 46)
script = ExtResource("3_7jup7")

[node name="CollisionShape2D" type="CollisionShape2D" parent="RoomPortal"]
z_index = 3
position = Vector2(0, -41)
shape = SubResource("RectangleShape2D_ijv3q")
debug_color = Color(0.33582, 0.639235, 0, 0.42)

[node name="Marker2D" type="Marker2D" parent="RoomPortal"]
position = Vector2(0, -114)

[node name="DoorWithSwitch" parent="." instance=ExtResource("4_sx3bq")]
position = Vector2(367, 46)
collision_layer = 4
metadata/_edit_group_ = true
metadata/_edit_lock_ = true

[node name="switch" type="Area2D" parent="DoorWithSwitch" groups=["door_switch"]]
position = Vector2(177, 210)
collision_layer = 0
collision_mask = 11

[node name="CollisionShape2D" type="CollisionShape2D" parent="DoorWithSwitch/switch"]
position = Vector2(16, 16)
shape = SubResource("RectangleShape2D_yfxe0")

[node name="Sprite2D" type="Sprite2D" parent="DoorWithSwitch/switch"]
visible = false
modulate = Color(0.364514, 0.782537, 0.882083, 1)
z_index = 5
texture = SubResource("PlaceholderTexture2D_tqkdl")
centered = false

[node name="switch2" type="Area2D" parent="DoorWithSwitch" groups=["door_switch"]]
position = Vector2(-110, 150)
collision_layer = 0
collision_mask = 11

[node name="CollisionShape2D" type="CollisionShape2D" parent="DoorWithSwitch/switch2"]
position = Vector2(15, 12)
shape = SubResource("RectangleShape2D_rllry")

[node name="Sprite2D" type="Sprite2D" parent="DoorWithSwitch/switch2"]
visible = false
modulate = Color(0.364514, 0.782537, 0.882083, 1)
z_index = 5
texture = SubResource("PlaceholderTexture2D_tqkdl")
centered = false

[node name="Letter" parent="." node_paths=PackedStringArray("ObjectUI") instance=ExtResource("5_3jmsg")]
position = Vector2(326, 217)
ObjectUI = NodePath("")

[node name="PlayerDetector" type="Area2D" parent="."]
position = Vector2(400, 225)

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayerDetector"]
z_index = 10
position = Vector2(0, 16.25)
shape = SubResource("RectangleShape2D_8p6ln")
debug_color = Color(0.792157, 0.345098, 0.356863, 0.419608)

[connection signal="body_entered" from="RoomPortal" to="RoomPortal" method="_on_body_entered"]
[connection signal="body_entered" from="PlayerDetector" to="." method="_on_player_detector_body_entered"]
